<!DOCTYPE HTML>
<!--
	Solid State by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
<head>
    <title>兔小灵:专业又有趣</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="icon" href="static/images/web-icon.ico" type="image/x-icon">
    <link rel="stylesheet" href="static/assets/css/main.css" />
    <noscript><link rel="stylesheet" href="static/assets/css/noscript.css" /></noscript>
</head>
<body class="is-preload">

<!-- Page Wrapper -->
<div id="page-wrapper">

    <!-- Header -->
    <header id="header" class="alt">
        <nav>
            <a href="/" style="border: 1px solid; border-radius: 10px">首页</a>
            <!--
        <a href="/generic">立即报名</a>
            <li><a href="/elements">Elements</a></li>
            -->
        </nav>
    </header>

    <!-- Menu -->
    <nav id="menu">
        <div class="inner">
            <h2>菜单</h2>
            <ul class="links">
                <li><a href="/">首页</a></li>
                <!--
                <li><a href="/generic">Generic</a></li>
                <li><a href="/elements">Elements</a></li>
                -->
            </ul>
            <a href="#" class="close">Close</a>
        </div>
    </nav>

    <!-- Banner -->
    <section id="banner">
        <div class="inner">
            <!--
            <div class="logo"><span class="icon fa-gem"></span></div>
            -->
            <img src="static/images/smxh_yellow.jpg" alt="" style="width: 10%;height: 10%;"/>
            <h2>兔小灵工作室</h2>
            <p>水木莘华旗下专注于青少年编程的工作室，提供专业又有趣的编程体验。<a href="#"></a></p>
        </div>
    </section>

    <!-- Wrapper -->
    <section id="wrapper">

        <!-- One -->
        <!--
        <section id="one" class="wrapper spotlight style1">
            <div class="inner">
                <a href="#" class="image"><img src="static/images/pic01.jpg" alt="" /></a>
                <div class="content">
                    <h2 class="major">郑教授</h2>
                    <p>清华本硕，博士毕业于英国XX大学，深耕计算机系统三十余载，现任厦门大学计算机系副主任，丰富的教学经验。曾获得教学XX一等奖，培育无数优秀学子。</p>
                </div>
            </div>
        </section>
        -->

        <!-- Two -->
        <!--
        <section id="two" class="wrapper alt spotlight style2">
            <div class="inner">
                <a href="#" class="image"><img src="static/images/tiger.png" alt="" /></a>
                <div class="content">
                    <h2 class="major">颜董事</h2>
                    <p>丰富的教学经验，专注于青少年编程领域，曾带领其机构获得获千万融资，现为兔小灵工作室创始人之一，立志为中国青少年带来最专业最有趣的编程体验，贯彻落实科技强国的战略。</p>
                </div>
            </div>
        </section>
        -->

        <!-- Three -->
        <!--
        <section id="three" class="wrapper spotlight style3">
            <div class="inner">
                <a href="#" class="image"><img src="static/images/daben.jpeg" alt="" /></a>
                <div class="content">
                    <h2 class="major">岳小弟</h2>
                    <p>默默无闻的搬砖人, 偶像是奔雷剑主大奔, 蠢萌又豪爽, 潇洒又给力。</p>
                </div>
            </div>
        </section>
        -->

        <!-- Four -->
        <section id="four" class="wrapper alt style1">
            <div class="inner">
                <h2 class="major">课程体系</h2>
                <p>覆盖6～17岁青少年编程学习全阶段。</p>
                <section class="features">
                    <article>
                        <a href="#" class="image"><img src="static/images/course_t1.jpg" alt="" /></a>
                        <h3 class="major">T1: 图形化编程启蒙</h3>
                        <p class="level-desc">从scratch开启编程世界的大门, 掌握图形化编程语法和程序的基本结构，激发好奇心和创造力，培养孩子主动探索的能力。</p>
                    </article>
                    <article>
                        <a href="#" class="image"><img src="static/images/course_t2.jpg" alt="" /></a>
                        <h3 class="major">T2: 图形化创作</h3>
                        <p class="level-desc">培养孩子更多的创造能力，通过制作复杂的作品来养成孩子的编程思维、计算思维，提升孩子思维的灵敏度。</p>
                    </article>
                    <article>
                        <a href="#" class="image"><img src="static/images/course_t3.jpg" alt="" /></a>
                        <h3 class="major">T3:Python基础</h3>
                        <p class="level-desc">Lorem ipsum dolor sit amet, consectetur adipiscing vehicula id nulla dignissim dapibus ultrices.</p>
                    </article>
                    <article>
                        <a href="#" class="image"><img src="static/images/course_t4.jpg" alt="" /></a>
                        <h3 class="major">T4:Python提高</h3>
                        <p class="level-desc">Lorem ipsum dolor sit amet, consectetur adipiscing vehicula id nulla dignissim dapibus ultrices.</p>
                    </article>
                    <article>
                        <a href="#" class="image"><img src="static/images/pic04.jpg" alt="" /></a>
                        <h3 class="major">T5: C++基础</h3>
                        <p class="level-desc">Lorem ipsum dolor sit amet, consectetur adipiscing vehicula id nulla dignissim dapibus ultrices.</p>
                    </article>
                    <article>
                        <a href="#" class="image"><img src="static/images/pic04.jpg" alt="" /></a>
                        <h3 class="major">T6-a:C++趣味编程</h3>
                        <p class="level-desc">Lorem ipsum dolor sit amet, consectetur adipiscing vehicula id nulla dignissim dapibus ultrices.</p>
                    </article>
                    <article>
                        <a href="#" class="image"><img src="static/images/pic04.jpg" alt="" /></a>
                        <h3 class="major">T6-b:算法入门</h3>
                        <p class="level-desc">Lorem ipsum dolor sit amet, consectetur adipiscing vehicula id nulla dignissim dapibus ultrices.</p>
                    </article>
                    <article>
                        <a href="#" class="image"><img src="static/images/pic04.jpg" alt="" /></a>
                        <h3 class="major">T7-a:应用实践</h3>
                        <p class="level-desc">Lorem ipsum dolor sit amet, consectetur adipiscing vehicula id nulla dignissim dapibus ultrices.</p>
                    </article>
                    <article>
                        <a href="#" class="image"><img src="static/images/pic04.jpg" alt="" /></a>
                        <h3 class="major">T7-b:算法进阶</h3>
                        <p class="level-desc">Lorem ipsum dolor sit amet, consectetur adipiscing vehicula id nulla dignissim dapibus ultrices.</p>
                    </article>
                </section>
            </div>
        </section>

    </section>

    <!-- Footer -->
    <section id="footer">
        <div class="inner">
            <h2 class="major">课程预约</h2>
            <p style="font-style: oblique">请留下您的信息来预约课程, 我们将尽快联系您。</p>
            <form id="reserve">
                <div class="fields">
                    <div class="field">
                        <label for="name">您的姓名</label>
                        <input type="text" name="name" id="name" maxlength="6" required/>
                    </div>
                    <div class="field">
                        <label for="phone">您的手机号码</label>
                        <input type="text"
                               name="phone"
                               id="phone"
                               maxlength="11"
                               minlength="11"
                               ooninput="validatePhone(this)"
                               required
                        />
                    </div>
                    <div class="field">
                        <label for="grade">当前年级</label>
                        <select name="grade" id="grade">
                            <option value="secondary_low">小学1-3年级</option>
                            <option value="secondary_high">小学4-6年级</option>
                            <option value="junior">初中</option>
                            <option value="high">高中</option>
                        </select>
                    </div>
                    <div class="field">
                        <label for="course">课程</label>
                        <select name="course" id="course">
                            <option value="python">Python</option>
                            <option value="cpp">C++</option>
                            <option value="scratch">图形化编程</option>
                        </select>
                    </div>
                    <div class="field">
                        <label for="period">意向时间段</label>
                        <select name="period" id="period">
                            <option value="t1">周六09:30-11:30</option>
                            <option value="t2">周六14:00-16:00</option>
                            <option value="t3">周六16:30-18:30</option>
                            <option value="t4">周六19:00-21:00</option>
                            <option value="t5">周日09:30-11:30</option>
                            <option value="t6">周日14:00-16:00</option>
                            <option value="t7">周日16:30-18:30</option>
                            <option value="t8">周日19:00-21:00</option>
                            <option value="t0">其他</option>
                        </select>
                    </div>
                    <div class="field">
                        <label for="location">校区</label>
                        <select name="location" id="location">
                            <option value="bainaohui">百脑汇校区</option>
                            <option value="gudishi">古地石校区</option>
                        </select>
                    </div>
                    <div class="field">
                        <label for="message">留言(可不填)</label>
                        <textarea name="message" id="message" rows="4"></textarea>
                    </div>
                </div>
                <!--
                <iframe name="hiddenFrame" style="display: none;"></iframe>
                -->
                <ul class="actions">
                    <li><input type="submit" value="点击预约" /> <button type="button" id="copy-ticket-button">复制预约码</button></li>
                </ul>
            </form>
            <ul class="contact">
                <li class="icon solid fa-home">
                    百脑汇校区地址:厦门市百脑汇科技大厦1508。
                    <br>
                    古地石校区地址: 古地石地铁口。
                </li>
	        <li class="icon solid fa-envelope">coolwiller.77@gmail.com</li>
                <li class="icon solid fa-phone">+86 13055366228</li>
                <li class="icon solid fa-arrow-alt-circle-down">扫下方二维码联系我们</li>
                <li><img src="static/images/director.png" alt="" width="30%" height="45%"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="static/images/smxh_gzh.jpg" alt="" width="30%" height="45%"/></li>
            </ul>
            <ul class="copyright">
                <li>&copy; 水木莘华&兔小灵版权所有</li><li><a href="#">兔小灵工作室</a></li>
            </ul>
        </div>
    </section>

</div>

<!-- Scripts -->
<script src="static/assets/js/jquery.min.js"></script>
<script src="static/assets/js/jquery.scrollex.min.js"></script>
<script src="static/assets/js/browser.min.js"></script>
<script src="static/assets/js/breakpoints.min.js"></script>
<script src="static/assets/js/util.js"></script>
<script src="static/assets/js/main.js"></script>
<script>
    // 隐藏复制预约码按钮
    $('#copy-ticket-button').css('display', 'none');

    function validatePhone(input) {
        // 移除错误提示信息
        input.setCustomValidity("");
        // 替换非数字字符
        input.value = input.value.replace(/[^\d]/g, '');
        // 检查手机号码格式
        if (input.value.length !== 11) {
            input.setCustomValidity("请输入正确的手机号码");
        }
    }

    // 当表单提交时触发
    $("#reserve").submit(function(event) {
        // 阻止表单的默认提交行为
        event.preventDefault();

        // 获取表单数据
        var formData = $(this).serialize();
        // 获取提交按钮元素
        var submitButton = $(this).find("input[type='submit']");

        // 发送 POST 请求到指定的 URL
        $.ajax({
            type: "POST",
            url: "http://81.71.3.223:7471/reserve",
            // url: "http://localhost:7471/reserve",
            data: formData,
            success: function(response) {
                if (response && response.code === 0) {
                    // 修改按钮文本
                    submitButton.val("您已预约，预约码：" + response.ticket + ", 已复制到您的剪贴板中");

                    // 获取复制按钮和预约码元素
                    // var copyTicketButton = document.getElementById('copy-ticket-button');

                    // 显示复制按钮
                    // $('#copy-ticket-button').css('display', 'inline-block');
                    var ticketCode = response.ticket;
                    // navigator clipboard 需要https等安全上下文, 所以用copy
                    let textArea = document.createElement("textarea");
                    textArea.value = ticketCode;
                    // 使text area不在viewport，同时设置不可见
                    textArea.style.position = "absolute";
                    textArea.style.opacity = 0;
                    textArea.style.left = "-999999px";
                    textArea.style.top = "-999999px";document.body.appendChild(textArea);
                    textArea.focus();
                    textArea.select();
                    return new Promise((res, rej) => {
                        // 执行复制命令并移除文本框
                        document.execCommand('copy') ? res() : rej();
                        textArea.remove()
                        alert("预约成功, 预约码已经复制到剪切板中, 预约码为:" + response.ticket + ", 请保管好预约码，方便我们与你联系上课。");
                        submitButton.focus()
                        // 禁用提交按钮
                        submitButton.prop("disabled", true);
                    });
                } else {
                    alert("预约失败, 请您重试, 错误编码:" + response.code)
                }
            },
            error: function(error) {
                // 请求失败时的处理
                console.error("预约失败, 请您重试");
            }
        });
    });
</script>

</body>
</html>
